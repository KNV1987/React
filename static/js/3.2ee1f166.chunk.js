(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{291:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(35),r=a(36),o=a(38),l=a(37),i=a(0),s=a.n(i),u=a(14),c=a(9),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(o.a)(i,t);var a=Object(l.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?s.a.createElement(e,this.props):s.a.createElement(c.a,{to:"/login"})}}]),i}(s.a.Component);return Object(u.b)(m)(t)}},293:function(e,t,a){e.exports={ava:"ProfileInfo_ava__3dA4l",divProf:"ProfileInfo_divProf__3Vfwx",avaProf:"ProfileInfo_avaProf__11Uuf",contact:"ProfileInfo_contact__3IRVa"}},294:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__1WYmH",btnPost:"MyPosts_btnPost__3nQgt"}},295:function(e,t,a){e.exports={item:"Post_item__kCbgo",itemDiv:"Post_itemDiv__dVxTa"}},296:function(e,t,a){},297:function(e,t,a){"use strict";a.r(t);var n=a(35),r=a(36),o=a(38),l=a(37),i=a(0),s=a.n(i),u=a(94),c=a(14),m=a(85),f=a(128),p=a(47),d=a(64),v=a(294),b=a.n(v),E=a(295),h=a.n(E),P=function(e){return s.a.createElement("div",{className:h.a.item},s.a.createElement("img",{src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg"}),s.a.createElement("div",{className:h.a.itemDiv},s.a.createElement("div",null,e.mesage),s.a.createElement("div",null,"like ",e.like)))},y=s.a.memo((function(e){var t=e.posts.map((function(e){return s.a.createElement(P,{mesage:e.post,key:e.id,like:e.like})}));return s.a.createElement("div",{className:b.a.myPosts},s.a.createElement("h3",null,"My post"),s.a.createElement("div",null,s.a.createElement(O,{onSubmit:function(t){e.addPost(t.newPostText)}})),t)})),g=Object(d.a)(15),O=Object(f.a)({form:"ProfileAddNewPostForm"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement(m.a,{component:p.b,name:"newPostText",placeholder:"Add post",validate:[d.b,g]})),s.a.createElement("div",{className:b.a.btnPost},s.a.createElement("button",null,"Add Post")))})),j=y,k=Object(c.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(j),_=a(296),S=a.n(_);var A=a(105);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}(e,t)||Object(A.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=a(61),C=a(293),I=a.n(C),x=function(e){var t=w(Object(i.useState)(!1),2),a=t[0],n=t[1],r=w(Object(i.useState)(e.status),2),o=r[0],l=r[1];Object(i.useEffect)((function(){l(e.status)}),[e.status]);return s.a.createElement("div",null,!a&&s.a.createElement("div",null,s.a.createElement("b",null,"Status: "),s.a.createElement("span",{onDoubleClick:function(){n(!0)}},e.status||"No status"," ")),a&&s.a.createElement("div",null,s.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(o)},value:o})))},T=a(117),F=a.n(T),M=a(29),D=a.n(M),J=Object(f.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return s.a.createElement("form",{onSubmit:t},s.a.createElement("div",null,s.a.createElement("button",null,"save")),n&&s.a.createElement("div",{className:D.a.formSummaryError},n," "),s.a.createElement("div",null,s.a.createElement("b",null,"Full name: ")," ",s.a.createElement(m.a,{placeholder:"Full name",name:"fullName",component:p.a})),s.a.createElement("div",null,s.a.createElement("b",null,"Looking for a job: "),s.a.createElement(m.a,{type:"checkbox",name:"lookingForAJob",component:p.a})),s.a.createElement("div",null,s.a.createElement("b",null,"My professional skills: "),s.a.createElement(m.a,{placeholder:"Professional skills",name:"lookingForAJobDescription",component:p.b})),s.a.createElement("div",null,s.a.createElement("b",null,"About my: "),s.a.createElement(m.a,{placeholder:"About me",name:"aboutMe",component:p.a})),s.a.createElement("div",null,s.a.createElement("b",null,"Contacts: ")," ",Object.keys(a.contacts).map((function(e){return s.a.createElement("div",{className:I.a.contact},s.a.createElement("b",null,e,": ",s.a.createElement(m.a,{placeholder:e,name:"contacts."+e,component:p.a,validate:[]})))}))))})),U=function(e){var t=e.profile,a=e.isOwner,n=e.goToEditMode;return s.a.createElement("div",null,a&&s.a.createElement("div",null,s.a.createElement("button",{onClick:n},"edit")),s.a.createElement("div",null,s.a.createElement("b",null,"Full name: ")," ",t.fullName),s.a.createElement("div",null,s.a.createElement("b",null,"Looking for a job: ")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&s.a.createElement("div",null,s.a.createElement("b",null,"Professional skills: ")," ",t.lookingForAJobDescription),s.a.createElement("div",null,s.a.createElement("b",null,"About me: ")," ",t.aboutMe),s.a.createElement("div",null,s.a.createElement("b",null,"Contacts: ")," ",Object.keys(t.contacts).map((function(e){return s.a.createElement(V,{key:e,ContactTitle:e,ContactValue:t.contacts[e]})}))))},V=function(e){var t=e.ContactTitle,a=e.ContactValue;return s.a.createElement("div",{className:I.a.contact},s.a.createElement("b",null,t,": ")," ",a)},z=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto,l=e.saveProfile,u=w(Object(i.useState)(!1),2),c=u[0],m=u[1];if(!t)return s.a.createElement(N.a,null);return s.a.createElement("div",{className:I.a.divProf},s.a.createElement("img",{src:t.photos.large||F.a,className:I.a.avaProf}),r&&s.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}}),c?s.a.createElement(J,{initialValues:t,profile:t,onSubmit:function(e){l(e).then((function(){m(!1)}))}}):s.a.createElement(U,{profile:t,isOwner:r,goToEditMode:function(){return m(!0)}}),s.a.createElement(x,{status:a,updateStatus:n}))},L=function(e){return s.a.createElement("div",{className:S.a.content},s.a.createElement(z,{profile:e.profile,savePhoto:e.savePhoto,isOwner:e.isOwner,saveProfile:e.saveProfile,status:e.status,updateStatus:e.updateStatus}),s.a.createElement(k,null))},B=a(9),H=a(291),Q=a(8),R=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return s.a.createElement(L,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,savePhoto:this.props.savePhoto,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),a}(s.a.Component);t.default=Object(Q.d)(Object(c.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:u.d,getStatus:u.c,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f}),B.f,H.a)(R)}}]);
//# sourceMappingURL=3.2ee1f166.chunk.js.map